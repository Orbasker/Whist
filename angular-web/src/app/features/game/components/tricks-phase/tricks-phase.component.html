<div class="space-y-6">
  <!-- Question -->
  <div>
    <p class="text-slate-300 text-sm"> 拽转  砖拽 拽 驻注?</p>
  </div>

  <!-- Summary - Green Bar -->
  <div class="bg-green-700 rounded-lg p-4">
    <div class="text-center">
      <span class="text-white font-semibold text-lg">住" 拽转 {{ totalTricks }}</span>
    </div>
  </div>

  <!-- Tricks Input for Each Player -->
  <div class="space-y-4">
    <div *ngFor="let player of players; let i = index" class="bg-slate-800 rounded-lg p-4">
      <div class="flex items-center justify-between mb-3">
        <!-- Left: Actual takes -->
        <div class="text-white text-sm">
          <span class="font-medium">{{ getTrickForPlayer(i) }} 拽转</span>
          <span class="text-xs text-red-400 mr-2" *ngIf="isTrickLocked(i)"> 注</span>
        </div>
        <!-- Right: Player name and bet -->
        <div class="text-right">
          <div class="flex items-center gap-2">
            <span class="text-white font-medium">{{ player }}</span>
            <span class="text-xs bg-blue-600 text-white px-2 py-0.5 rounded font-semibold" *ngIf="isPlayerOwner(i)" title=" 砖拽"></span>
            <span class="text-slate-400 text-sm">专: {{ bids[i] }}</span>
            <span class="text-xs text-green-400" *ngIf="currentPlayerIndex === i">(转)</span>
          </div>
        </div>
      </div>
      <app-tricks-input-grid
        [selectedTrick]="getTrickForPlayer(i)"
        [disabled]="!canEditTrick(i)"
        (trickSelect)="onTrickChange(i, $event)"
      ></app-tricks-input-grid>
      <button
        *ngIf="canLockTrick(i)"
        (click)="onLockTrick(i)"
        class="mt-2 w-full bg-green-600 hover:bg-green-500 text-white text-sm font-semibold py-2 px-4 rounded-lg transition-colors"
      >
        {{ currentPlayerIndex === i ? '注 专' : '注 专转 砖拽' }}
      </button>
    </div>
  </div>

  <!-- Submit Button -->
  <button
    (click)="onSubmit()"
    [disabled]="totalTricks !== 13"
    class="w-full bg-amber-600 hover:bg-amber-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-semibold py-3 px-6 rounded-lg transition-colors"
  >
    住 住
  </button>
</div>
